# ğŸš€ AIç½‘é¡µç”Ÿæˆå™¨ - éƒ¨ç½²æŒ‡å—

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªé›†æˆè±†åŒ…AIçš„ç½‘é¡µè‡ªåŠ¨ç”Ÿæˆç³»ç»Ÿï¼Œæ”¯æŒå®Œæ•´çš„8æ­¥ç”Ÿæˆæµç¨‹ï¼Œèƒ½å¤Ÿç”Ÿæˆå®Œæ•´çš„Vue3é¡¹ç›®ç»“æ„ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **åç«¯**: Node.js + Express + è±†åŒ…API
- **å‰ç«¯**: Vue3 + TypeScript + Element Plus + Vite
- **AIæœåŠ¡**: è±†åŒ…èŠå¤©æ¨¡å‹ + è±†åŒ…å›¾åƒç”Ÿæˆæ¨¡å‹

## ğŸ“¦ ç¯å¢ƒè¦æ±‚

- Node.js 16.0+
- npm 8.0+
- ç°ä»£æµè§ˆå™¨ (Chrome, Firefox, Safari, Edge)

## ğŸ”§ æœ¬åœ°å¼€å‘éƒ¨ç½²

### 1. å…‹éš†é¡¹ç›®
```bash
git clone [é¡¹ç›®åœ°å€]
cd autoweb
```

### 2. å®‰è£…ä¾èµ–
```bash
# å®‰è£…åç«¯ä¾èµ–
cd backend
npm install

# å®‰è£…å‰ç«¯ä¾èµ–
cd ../frontend
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡
```bash
# ç¼–è¾‘ backend/.env
ARK_API_KEY=your_ark_api_key_here
PORT=3000
NODE_ENV=development
```

### 4. å¯åŠ¨æœåŠ¡
```bash
# å¯åŠ¨åç«¯æœåŠ¡
cd backend
npm start

# æ–°å¼€ç»ˆç«¯ï¼Œå¯åŠ¨å‰ç«¯æœåŠ¡
cd frontend
npm run dev
```

### 5. è®¿é—®åº”ç”¨
- å‰ç«¯åœ°å€: http://localhost:5173/
- åç«¯åœ°å€: http://localhost:3000/
- å¥åº·æ£€æŸ¥: http://localhost:3000/health

## ğŸŒ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### æ–¹æ¡ˆä¸€: æœåŠ¡å™¨éƒ¨ç½²

1. **å‡†å¤‡æœåŠ¡å™¨ç¯å¢ƒ**
```bash
# å®‰è£…Node.js
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# å®‰è£…PM2è¿›ç¨‹ç®¡ç†å™¨
npm install -g pm2
```

2. **éƒ¨ç½²åç«¯æœåŠ¡**
```bash
cd backend
npm install --production
pm2 start server.js --name "autoweb-backend"
```

3. **æ„å»ºå’Œéƒ¨ç½²å‰ç«¯**
```bash
cd frontend
npm run build

# ä½¿ç”¨nginxæˆ–å…¶ä»–webæœåŠ¡å™¨éƒ¨ç½²distç›®å½•
sudo cp -r dist/* /var/www/html/
```

4. **é…ç½®nginxåå‘ä»£ç†**
```nginx
server {
    listen 80;
    server_name your-domain.com;

    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        root /var/www/html;
        try_files $uri $uri/ /index.html;
    }

    # åç«¯APIä»£ç†
    location /api/ {
        proxy_pass http://localhost:3000/api/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### æ–¹æ¡ˆäºŒ: Dockeréƒ¨ç½²

1. **åˆ›å»ºDockerfile (åç«¯)**
```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install --production
COPY . .
EXPOSE 3000
CMD ["npm", "start"]
```

2. **åˆ›å»ºDockerfile (å‰ç«¯)**
```dockerfile
FROM node:18-alpine as build
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=build /app/dist /usr/share/nginx/html
EXPOSE 80
```

3. **Docker Composeé…ç½®**
```yaml
version: '3.8'
services:
  backend:
    build: ./backend
    ports:
      - "3000:3000"
    environment:
      - ARK_API_KEY=${ARK_API_KEY}
      - NODE_ENV=production
    
  frontend:
    build: ./frontend
    ports:
      - "80:80"
    depends_on:
      - backend
```

## ğŸ” ç›‘æ§å’Œç»´æŠ¤

### å¥åº·æ£€æŸ¥
```bash
# æ£€æŸ¥åç«¯æœåŠ¡çŠ¶æ€
curl http://localhost:3000/health

# æ£€æŸ¥PM2è¿›ç¨‹çŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs autoweb-backend
```

### æ€§èƒ½ä¼˜åŒ–

1. **åç«¯ä¼˜åŒ–**
   - å¯ç”¨gzipå‹ç¼©
   - é…ç½®è¯·æ±‚é™æµ
   - ä½¿ç”¨Redisç¼“å­˜
   - æ•°æ®åº“è¿æ¥æ± 

2. **å‰ç«¯ä¼˜åŒ–**
   - ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½
   - é™æ€èµ„æºCDN
   - å›¾ç‰‡å‹ç¼©ä¼˜åŒ–
   - æµè§ˆå™¨ç¼“å­˜ç­–ç•¥

## ğŸ”’ å®‰å…¨é…ç½®

### APIå®‰å…¨
```javascript
// æ·»åŠ è¯·æ±‚é™æµ
const rateLimit = require('express-rate-limit');
const limiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15åˆ†é’Ÿ
  max: 100 // é™åˆ¶æ¯ä¸ªIP 100æ¬¡è¯·æ±‚
});
app.use('/api/', limiter);

// æ·»åŠ CORSé…ç½®
app.use(cors({
  origin: process.env.FRONTEND_URL,
  credentials: true
}));
```

### ç¯å¢ƒå˜é‡å®‰å…¨
```bash
# ç”Ÿäº§ç¯å¢ƒä¸è¦æš´éœ²æ•æ„Ÿä¿¡æ¯
NODE_ENV=production
ARK_API_KEY=*********************
DATABASE_URL=*********************
SECRET_KEY=*********************
```

## ğŸ“Š æ—¥å¿—å’Œç›‘æ§

### æ—¥å¿—é…ç½®
```javascript
const winston = require('winston');
const logger = winston.createLogger({
  level: 'info',
  format: winston.format.json(),
  transports: [
    new winston.transports.File({ filename: 'error.log', level: 'error' }),
    new winston.transports.File({ filename: 'combined.log' })
  ]
});
```

### åº”ç”¨ç›‘æ§
- ä½¿ç”¨PM2ç›‘æ§è¿›ç¨‹çŠ¶æ€
- é…ç½®uptimeç›‘æ§æœåŠ¡
- è®¾ç½®é”™è¯¯æŠ¥è­¦é€šçŸ¥
- ç›‘æ§APIå“åº”æ—¶é—´

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£å ç”¨**
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :3000
# æ€æ­»è¿›ç¨‹
kill -9 [PID]
```

2. **å†…å­˜ä¸è¶³**
```bash
# å¢åŠ Node.jså†…å­˜é™åˆ¶
node --max-old-space-size=4096 server.js
```

3. **APIè°ƒç”¨å¤±è´¥**
```bash
# æ£€æŸ¥ç½‘ç»œè¿æ¥
curl -I https://ark.cn-beijing.volces.com/
# éªŒè¯API Key
node test-api.js
```

## ğŸ“ˆ æ‰©å±•éƒ¨ç½²

### è´Ÿè½½å‡è¡¡
```nginx
upstream backend {
    server 127.0.0.1:3000;
    server 127.0.0.1:3001;
    server 127.0.0.1:3002;
}
```

### å¾®æœåŠ¡æ‹†åˆ†
- APIç½‘å…³æœåŠ¡
- ä»£ç ç”ŸæˆæœåŠ¡
- å›¾åƒå¤„ç†æœåŠ¡
- æ–‡ä»¶å­˜å‚¨æœåŠ¡

---

## ğŸ¯ æ¯•ä¸šè®¾è®¡å±•ç¤ºè¦ç‚¹

1. **æŠ€æœ¯æ¶æ„å®Œæ•´æ€§** - å‰åç«¯åˆ†ç¦»ï¼ŒAPIé›†æˆ
2. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–** - å®æ—¶è¿›åº¦ï¼Œé”™è¯¯å¤„ç†
3. **AIæŠ€æœ¯åº”ç”¨** - å¤šæ¨¡æ€AIé›†æˆ
4. **å·¥ç¨‹åŒ–å®è·µ** - ä»£ç è§„èŒƒï¼Œéƒ¨ç½²æµç¨‹
5. **å¯æ‰©å±•æ€§è®¾è®¡** - æ¨¡å—åŒ–æ¶æ„ï¼Œé…ç½®ç®¡ç†

è¿™ä¸ªé¡¹ç›®å±•ç¤ºäº†ç°ä»£Webå¼€å‘çš„å®Œæ•´æŠ€æœ¯æ ˆå’ŒAIæŠ€æœ¯çš„å®é™…åº”ç”¨ï¼Œéå¸¸é€‚åˆä½œä¸ºæ¯•ä¸šè®¾è®¡çš„æŠ€æœ¯å±•ç¤ºï¼
